# ğŸš€ é˜¿é‡Œäº‘ESA Pageséƒ¨ç½²æŒ‡å—

## ğŸ“¦ ä¸€é”®éƒ¨ç½²æ­¥éª¤

### æ–¹å¼ä¸€ï¼šZIPåŒ…ä¸Šä¼ ï¼ˆæ¨èï¼‰

1. **æ‰“åŒ…é¡¹ç›®**
   ```bash
   # å¦‚æœåœ¨æœ¬åœ°ï¼Œå…ˆå°†æ•´ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹å‹ç¼©æˆZIP
   # åŒ…å«æ‰€æœ‰æ–‡ä»¶ï¼šsrc/, public/, package.json, pages.json, vite.config.ts ç­‰
   ```

2. **ç™»å½•é˜¿é‡Œäº‘ESAæ§åˆ¶å°**
   - è®¿é—®ï¼šhttps://esa.console.aliyun.com/

3. **åˆ›å»ºPagesåº”ç”¨**
   - ç‚¹å‡»"Pages"
   - ç‚¹å‡»"æ–°å»ºåº”ç”¨"
   - é€‰æ‹©"ä¸Šä¼ ZIPåŒ…"

4. **ä¸Šä¼ å¹¶éƒ¨ç½²**
   - ä¸Šä¼ ä½ çš„ZIPæ–‡ä»¶
   - é˜¿é‡Œäº‘ä¼šè‡ªåŠ¨è¯†åˆ«`pages.json`é…ç½®
   - è‡ªåŠ¨æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š`npm install && npm run build`
   - è‡ªåŠ¨éƒ¨ç½²`dist`ç›®å½•å†…å®¹

5. **è®¿é—®åº”ç”¨**
   - éƒ¨ç½²å®Œæˆåï¼Œè·å¾—ä¸€ä¸ªä¸´æ—¶åŸŸå
   - å¯ä»¥ç»‘å®šè‡ªå®šä¹‰åŸŸå

---

### æ–¹å¼äºŒï¼šGitä»“åº“éƒ¨ç½²

1. **æ¨é€ä»£ç åˆ°Gitä»“åº“**
   ```bash
   git init
   git add .
   git commit -m "Initial commit"
   git remote add origin <ä½ çš„Gitä»“åº“åœ°å€>
   git push -u origin main
   ```

2. **åœ¨ESAæ§åˆ¶å°è¿æ¥ä»“åº“**
   - é€‰æ‹©"ä»Gitä»“åº“éƒ¨ç½²"
   - æˆæƒå¹¶é€‰æ‹©ä»“åº“
   - é˜¿é‡Œäº‘ä¼šè‡ªåŠ¨è¯†åˆ«`pages.json`
   - æ¯æ¬¡pushéƒ½ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²

---

## ğŸ“‹ pages.json é…ç½®è¯´æ˜

```json
{
  "build": {
    "command": "npm install && npm run build",  // æ„å»ºå‘½ä»¤
    "outputDir": "dist"                          // è¾“å‡ºç›®å½•
  }
}
```

- `command`ï¼šæ„å»ºè„šæœ¬ï¼Œä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–å¹¶æ„å»º
- `outputDir`ï¼šViteæ‰“åŒ…åçš„è¾“å‡ºç›®å½•

---

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [x] `pages.json` å·²åœ¨æ ¹ç›®å½•
- [x] `package.json` åŒ…å«`build`è„šæœ¬
- [x] `vite.config.ts` æœªé…ç½®`base`ï¼ˆä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼‰
- [x] `manifest.json` çš„`start_url`ä¸º`"/"`
- [x] Service Workerä½¿ç”¨ç›¸å¯¹è·¯å¾„
- [x] æ‰€æœ‰é™æ€èµ„æºè·¯å¾„å‡ä¸ºç›¸å¯¹è·¯å¾„

---

## ğŸŒ ç¯å¢ƒå˜é‡é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœé¡¹ç›®éœ€è¦ç¯å¢ƒå˜é‡ï¼Œåœ¨ESAæ§åˆ¶å°æ·»åŠ ï¼š

```
VITE_API_URL=https://api.example.com
VITE_APP_VERSION=1.0.0
```

ç„¶ååœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š
```typescript
const apiUrl = import.meta.env.VITE_API_URL;
```

---

## ğŸ”„ PWAç¼“å­˜æ›´æ–°æœºåˆ¶

éƒ¨ç½²æ–°ç‰ˆæœ¬åï¼Œç”¨æˆ·ä¼šçœ‹åˆ°æ›´æ–°æç¤ºï¼š

1. Service Workeræ£€æµ‹åˆ°æ–°ç‰ˆæœ¬
2. æ˜¾ç¤ºemeraldç»¿è‰²æ›´æ–°æ¨ªå¹…
3. ç”¨æˆ·ç‚¹å‡»"ç«‹å³æ›´æ–°"
4. è‡ªåŠ¨åˆ·æ–°é¡µé¢ï¼ŒåŠ è½½æ–°ç‰ˆæœ¬

**æ‰‹åŠ¨è§¦å‘ç¼“å­˜æ›´æ–°ï¼š**
- ä¿®æ”¹`public/service-worker.js`ä¸­çš„`CACHE_VERSION`
- ä¾‹å¦‚ï¼š`const CACHE_VERSION = 'v5';`

---

## ğŸ› ï¸ æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview
```

---

## ğŸ“± PWAåŠŸèƒ½

- âœ… ç¦»çº¿è®¿é—®ï¼ˆService Workerç¼“å­˜ï¼‰
- âœ… æ·»åŠ åˆ°ä¸»å±å¹•
- âœ… Appçº§ä½“éªŒï¼ˆstandaloneæ¨¡å¼ï¼‰
- âœ… è‡ªåŠ¨æ›´æ–°æç¤º
- âœ… è¿œç¨‹ç‰ˆæœ¬æ£€æŸ¥ï¼ˆæ¯å‘¨ï¼‰

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [é˜¿é‡Œäº‘ESA Pagesæ–‡æ¡£](https://help.aliyun.com/zh/esa/pages)
- [Viteæ–‡æ¡£](https://vitejs.dev/)
- [PWAè§„èŒƒ](https://web.dev/progressive-web-apps/)

---

## â“ å¸¸è§é—®é¢˜

### Q: éƒ¨ç½²åé¡µé¢ç©ºç™½ï¼Ÿ
A: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°ï¼Œç¡®ä¿`vite.config.ts`æœªé…ç½®é”™è¯¯çš„`base`è·¯å¾„

### Q: Service Workerä¸æ›´æ–°ï¼Ÿ
A: ä¿®æ”¹`public/service-worker.js`ä¸­çš„`CACHE_VERSION`

### Q: å¦‚ä½•ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼Ÿ
A: åœ¨ESAæ§åˆ¶å° - Pagesåº”ç”¨è®¾ç½® - è‡ªå®šä¹‰åŸŸåä¸­é…ç½®

### Q: æ„å»ºå¤±è´¥ï¼Ÿ
A: æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆæ¨è18+ï¼‰ï¼ŒæŸ¥çœ‹ESAæ§åˆ¶å°æ„å»ºæ—¥å¿—

---

## ğŸ“„ è®¸å¯è¯

å…è´¹å¼€æºé¡¹ç›®ï¼Œå®¢æˆ·å¯è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹ã€‚
